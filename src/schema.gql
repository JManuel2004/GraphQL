# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthResponse {
  token: String!
  user: User!
}

input CreateProjectInput {
  description: String
  status: ProjectStatus
  title: String!
}

input CreateTaskInput {
  assignedToId: String
  description: String
  dueDate: String
  priority: TaskPriority
  projectId: String!
  status: TaskStatus
  title: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type DeleteProjectResponse {
  message: String!
}

type DeleteTaskResponse {
  message: String!
}

type DeleteUserResponse {
  message: String!
}

input LoginInput {
  email: String!
  password: String!
}

type MessageResponse {
  message: String!
}

type Mutation {
  """Crear un nuevo proyecto"""
  createProject(createProjectInput: CreateProjectInput!): Project!

  """Crear una nueva tarea"""
  createTask(createTaskInput: CreateTaskInput!): Task!

  """Eliminar un proyecto"""
  deleteProject(id: ID!): DeleteProjectResponse!

  """Eliminar una tarea"""
  deleteTask(id: ID!): DeleteTaskResponse!

  """Eliminar un usuario (solo superadmin)"""
  deleteUser(id: ID!): DeleteUserResponse!

  """Iniciar sesión y obtener token JWT"""
  login(loginInput: LoginInput!): AuthResponse!

  """Cerrar sesión (eliminar token del lado del cliente)"""
  logout: MessageResponse!

  """Registrar un nuevo usuario en el sistema"""
  register(registerInput: RegisterInput!): User!

  """Actualizar un proyecto existente"""
  updateProject(id: ID!, updateProjectInput: UpdateProjectInput!): Project!

  """Actualizar una tarea existente"""
  updateTask(id: ID!, updateTaskInput: UpdateTaskInput!): Task!

  """Actualizar un usuario (solo superadmin)"""
  updateUser(id: ID!, updateUserInput: UpdateUserInput!): User!
}

type Project {
  createdAt: DateTime!
  description: String
  id: ID!
  status: ProjectStatus!
  tasks: [Task!]
  title: String!
  updatedAt: DateTime!
  user: User
}

"""Estados disponibles para proyectos"""
enum ProjectStatus {
  COMPLETED
  IN_PROGRESS
  PENDING
}

type Query {
  """Obtener información del usuario autenticado"""
  me: User!

  """Obtener un proyecto por su ID"""
  project(id: ID!): Project!

  """Obtener todos los proyectos del usuario autenticado"""
  projects: [Project!]!

  """Verificar token actual y obtener uno nuevo"""
  renewToken: AuthResponse!

  """Ejecutar seed para poblar la base de datos con datos iniciales"""
  seed: SeedResponse!

  """Obtener una tarea por su ID"""
  task(id: ID!): Task!

  """Obtener todas las tareas del usuario autenticado"""
  tasks: [Task!]!

  """Obtener todas las tareas de un proyecto específico"""
  tasksByProject(projectId: ID!): [Task!]!

  """Obtener un usuario por ID (solo superadmin)"""
  user(id: ID!): User!

  """Obtener todos los usuarios (solo superadmin)"""
  users: [User!]!
}

input RegisterInput {
  email: String!
  fullname: String!
  password: String!
  role: UserRole
}

type SeedData {
  projects: Float!
  tasks: Float!
  users: Float!
}

type SeedResponse {
  data: SeedData!
  message: String!
}

type Task {
  assignedTo: User
  createdAt: DateTime!
  description: String
  dueDate: DateTime
  id: ID!
  priority: TaskPriority!
  project: Project
  status: TaskStatus!
  title: String!
  updatedAt: DateTime!
}

"""Prioridades disponibles para tareas"""
enum TaskPriority {
  HIGH
  LOW
  MEDIUM
}

"""Estados disponibles para tareas"""
enum TaskStatus {
  CANCELLED
  COMPLETED
  IN_PROGRESS
  PENDING
}

input UpdateProjectInput {
  description: String
  status: ProjectStatus
  title: String
}

input UpdateTaskInput {
  assignedToId: String
  description: String
  dueDate: String
  priority: TaskPriority
  status: TaskStatus
  title: String
}

input UpdateUserInput {
  email: String
  fullname: String
  isActive: Boolean
  password: String
  role: UserRole
}

type User {
  assignedTasks: [Task!]
  email: String!
  fullname: String!
  id: ID!
  isActive: Boolean!
  projects: [Project!]
  role: UserRole!
}

"""Roles disponibles para usuarios"""
enum UserRole {
  SUPERADMIN
  USUARIO
}